<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Webview</title>
    <script>
      function receiveMessage(message) {
	    const reply = document.createElement("p");
	    reply.innerHTML = message;
	    document.body.appendChild(reply);
      }
      console.log = function(message) {
        postMessage(JSON.stringify({kind: 'log', message}))
      };
      console.warn = function(message) {
        postMessage(JSON.stringify({kind: 'warn', message}))
      };
      console.error = function(message) {
        postMessage(JSON.stringify({kind: 'error', message}))
      };
      window.onerror = function(message, source, lineno, colno, error) {
        postMessage(JSON.stringify({kind: 'onerror', message, source, lineno, colno, error}))
      };
	  
      function handleSubmit(event) {
        event.preventDefault();
        const input = document.getElementById("userInput").value;
        postMessage(input);
        console.log("User input:", input);
      }
    </script>
  </head>
  <body>
    <form onsubmit="handleSubmit(event)">
      <label for="userInput">Enter something:</label>
      <input type="text" id="userInput" name="userInput" required />
      <button type="submit">Submit</button>
    </form>
  </body>
</html>